<!DOCTYPE html>
<html class="no-js">

  <head>
<meta charset="utf-8">
<title>How to Create a Paytokens Node | Paytokens</title>
<meta name="description" content="Paytokens Servers are currently only supported on 64-Bit Ubuntu 14.04 LTS.  As of this writing, it is recommend to have a system with at least 32 GB of disk ...">
<meta name="viewport" content="width=device-width, initial-scale=1">
 
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
 
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="/css/main.css">
	
	<!--Favicon-->
	<link rel="shortcut icon" href="/img/XPT.png" type="image/x-icon">
	
	<!-- Canonical -->
	<link rel="canonical" href="https://czarcraft.co/blog/2015/03/19/how-to-create-a-paytokens-node.html">
	
	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="Paytokens" href="https://czarcraft.co/feed.xml" />
	
	<!-- Font Awesome -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	
	<!-- Google Fonts -->
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
	
	<!-- Google Analytics -->
	
	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-21065583-29', 'auto');
	ga('send', 'pageview');
	</script>
	
</head>


  <body>
    <header class="site-header">
<div class="branding">

<a href="/">
<img class="avatar" src="/img/XPT.png" alt=""/>
</a>

<h1 class="site-title">
<a href="/">Paytokens</a>
</h1>
</div>
<nav class="site-nav">
<ul>
<li>
<a class="page-link" href="/blog/">Blog</a>
</li>
<li>
<a class="page-link" href="https://czarparty.co">Community</a>
</li>






<li>
<a class="page-link" href="/governance/">Governance</a>
</li>



<li>
<a class="page-link" href="/discover/">Discover</a>
</li>





<li>
<a class="page-link" href="/features/">Features</a>
</li>





<li>
<a class="page-link" href="/developers/">Developers</a>
</li>




 















<li>
	<a href="https://github.com/paytokens" title="Follow on GitHub">
		<i class="fa fa-fw fa-github"></i>
	</a>
</li>











<li>
	<a href="https://www.reddit.com/r/paytokens" title="Follow on Reddit">
		<i class="fa fa-fw fa-reddit"></i>
	</a>
</li>











<li>
	<a href="https://twitter.com/paytokens" title="Follow on Twitter">
		<i class="fa fa-fw fa-twitter"></i>
	</a>
</li>





</ul>
</nav>
</header>


    <div class="content">
      <article >

  <header style="background-image: url('/')">
    <h1 class="title">How to Create a Paytokens Node</h1>
    
    <p class="meta">
    March 19, 2015
    
    </p>
  </header>

  <section class="post-content">
    <p>Paytokens Servers are currently only supported on 64-Bit Ubuntu 14.04 LTS.  As of this writing, it is recommend to have a system with at least 32 GB of disk space accompanied by 4 GB of RAM and an Intel i5 equivalent or better.  A node targets 1,000 Users.  The install user must be a sudoer or have the appropriate access rights.  Core Paytokens installations are generally to be held by the home directory of the user.  These instructions may change and only serve as a guideline.</p>

<p>To get started, begin with a clean install, enter home directory and update repositories:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="nx">update</span>
<span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="nx">upgrade</span></code></pre></div>

<p>Next, install Litecoin dependencies:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="nx">install</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">git</span> <span class="nx">autoconf</span> <span class="nx">autogen</span> <span class="nx">automake</span> <span class="nx">build</span><span class="o">-</span><span class="nx">essential</span> <span class="nx">software</span><span class="o">-</span><span class="nx">properties</span><span class="o">-</span><span class="nx">common</span> <span class="nx">libboost</span><span class="o">-</span><span class="nx">all</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libcurl4</span><span class="o">-</span><span class="nx">openssl</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libdb</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libdb</span><span class="o">++-</span><span class="nx">dev</span> <span class="nx">libgmp3</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libminiupnpc</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libmpfr</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libssl</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libcurl4</span><span class="o">-</span><span class="nx">openssl</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libjansson</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">pax</span><span class="o">-</span><span class="nx">utils</span></code></pre></div>

<p>Build Litecoin:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">git</span> <span class="nx">clone</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//github.com/litecoin-project/litecoin.git</span>
<span class="nx">cd</span> <span class="nx">litecoin</span><span class="o">/</span><span class="nx">src</span>
<span class="nx">make</span> <span class="o">-</span><span class="nx">f</span> <span class="nx">makefile</span><span class="p">.</span><span class="nx">unix</span> <span class="nx">USE_UPNP</span><span class="o">=</span><span class="mi">1</span>
<span class="nx">sudo</span> <span class="nx">cp</span> <span class="p">.</span><span class="o">/</span><span class="nx">litecoind</span> <span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">bin</span></code></pre></div>

<p>Litecoind First Run:
Start Litecoin by typing litecoind.  This will provide instructions to setup litecoin.conf in the directory ~/.litecoin.  Please be aware that directory paths should be the full path and exclude ~/ when entering paths later through configuration.  We may omit the full path throughout this writing.  A typical litecoin.conf should resemble the following for Paytokens Nodes:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">rpcuser</span><span class="o">=</span><span class="nx">litecoinrpc</span>
<span class="nx">rpcpassword</span><span class="o">=</span><span class="nx">PASSWORD</span>
<span class="nx">server</span><span class="o">=</span><span class="mi">1</span>
<span class="nx">daemon</span><span class="o">=</span><span class="mi">1</span>
<span class="nx">txindex</span><span class="o">=</span><span class="mi">1</span></code></pre></div>

<p>Please replace PASSWORD with the password of your choosing.</p>

<p>Start Litecoind to Rebuild Blockchain Index:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">litecoind</span> <span class="o">-</span><span class="nx">reindex</span> <span class="o">&amp;</span></code></pre></div>

<p>Install Paytokens Dependencies:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">install</span> <span class="nx">runit</span> <span class="nx">software</span><span class="o">-</span><span class="nx">properties</span><span class="o">-</span><span class="nx">common</span> <span class="nx">python</span><span class="o">-</span><span class="nx">software</span><span class="o">-</span><span class="nx">properties</span> <span class="nx">git</span><span class="o">-</span><span class="nx">core</span> <span class="nx">wget</span> <span class="nx">cx</span><span class="o">-</span><span class="nx">freeze</span> <span class="nx">python3</span> <span class="nx">python3</span><span class="o">-</span><span class="nx">setuptools</span> <span class="nx">python3</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">python3</span><span class="o">-</span><span class="nx">pip</span> <span class="nx">build</span><span class="o">-</span><span class="nx">essential</span> <span class="nx">python3</span><span class="o">-</span><span class="nx">sphinx</span> <span class="nx">python</span><span class="o">-</span><span class="nx">virtualenv</span> <span class="nx">libsqlite3</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">python3</span><span class="o">-</span><span class="nx">apsw</span> <span class="nx">python3</span><span class="o">-</span><span class="nx">zmq</span> <span class="nx">ntp</span> <span class="nx">ssl</span><span class="o">-</span><span class="nx">cert</span></code></pre></div>

<p>Install Payblock Dependencies:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">install</span> <span class="nx">python</span> <span class="nx">python</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">python</span><span class="o">-</span><span class="nx">setuptools</span> <span class="nx">python</span><span class="o">-</span><span class="nx">pip</span> <span class="nx">python</span><span class="o">-</span><span class="nx">sphinx</span> <span class="nx">python</span><span class="o">-</span><span class="nx">zmq</span> <span class="nx">libzmq3</span> <span class="nx">libzmq3</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libxml2</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libxslt</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">zlib1g</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libimage</span><span class="o">-</span><span class="nx">exiftool</span><span class="o">-</span><span class="nx">perl</span> <span class="nx">libevent</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">cython</span>
<span class="nx">git</span> <span class="nx">clone</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//github.com/czarparty/czarpartyd_build.git paytokensd_build</span></code></pre></div>

<p>Install MongoDB Version 2.6.4:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">remove</span> <span class="nx">mongodb</span> <span class="nx">mongodb</span><span class="o">-</span><span class="nx">server</span>
<span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">key</span> <span class="nx">adv</span> <span class="o">--</span><span class="nx">keyserver</span> <span class="nx">hkp</span><span class="o">:</span><span class="c1">//keyserver.ubuntu.com:80 --recv 7F0CEB10</span>
<span class="nx">echo</span> <span class="s1">&#39;deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen&#39;</span> <span class="o">|</span> <span class="nx">sudo</span> <span class="nx">tee</span> <span class="o">/</span><span class="nx">etc</span><span class="o">/</span><span class="nx">apt</span><span class="o">/</span><span class="nx">sources</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">mongodb</span><span class="p">.</span><span class="nx">list</span>
<span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="nx">update</span>
<span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">install</span> <span class="nx">mongodb</span><span class="o">-</span><span class="nx">org</span><span class="o">=</span><span class="mf">2.6</span><span class="p">.</span><span class="mi">4</span> <span class="nx">mongodb</span><span class="o">-</span><span class="nx">org</span><span class="o">-</span><span class="nx">server</span><span class="o">=</span><span class="mf">2.6</span><span class="p">.</span><span class="mi">4</span> <span class="nx">mongodb</span><span class="o">-</span><span class="nx">org</span><span class="o">-</span><span class="nx">shell</span><span class="o">=</span><span class="mf">2.6</span><span class="p">.</span><span class="mi">4</span> <span class="nx">mongodb</span><span class="o">-</span><span class="nx">org</span><span class="o">-</span><span class="nx">mongos</span><span class="o">=</span><span class="mf">2.6</span><span class="p">.</span><span class="mi">4</span> <span class="nx">mongodb</span><span class="o">-</span><span class="nx">org</span><span class="o">-</span><span class="nx">tools</span><span class="o">=</span><span class="mf">2.6</span><span class="p">.</span><span class="mi">4</span></code></pre></div>

<p>Pin this specific version of MongoDB to prevent automatic updates:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">echo</span> <span class="s2">&quot;mongodb-org hold&quot;</span> <span class="o">|</span> <span class="nx">sudo</span> <span class="nx">dpkg</span> <span class="o">--</span><span class="nx">set</span><span class="o">-</span><span class="nx">selections</span>
<span class="nx">echo</span> <span class="s2">&quot;mongodb-org-server hold&quot;</span> <span class="o">|</span> <span class="nx">sudo</span> <span class="nx">dpkg</span> <span class="o">--</span><span class="nx">set</span><span class="o">-</span><span class="nx">selections</span>
<span class="nx">echo</span> <span class="s2">&quot;mongodb-org-shell hold&quot;</span> <span class="o">|</span> <span class="nx">sudo</span> <span class="nx">dpkg</span> <span class="o">--</span><span class="nx">set</span><span class="o">-</span><span class="nx">selections</span>
<span class="nx">echo</span> <span class="s2">&quot;mongodb-org-mongos hold&quot;</span> <span class="o">|</span> <span class="nx">sudo</span> <span class="nx">dpkg</span> <span class="o">--</span><span class="nx">set</span><span class="o">-</span><span class="nx">selections</span>
<span class="nx">echo</span> <span class="s2">&quot;mongodb-org-tools hold&quot;</span> <span class="o">|</span> <span class="nx">sudo</span> <span class="nx">dpkg</span> <span class="o">--</span><span class="nx">set</span><span class="o">-</span><span class="nx">selections</span></code></pre></div>

<p>Install Redis:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">install</span> <span class="nx">redis</span><span class="o">-</span><span class="nx">server</span></code></pre></div>

<p>As a note, other versions of Redis may work just fine, that are just not tested within a Paytokens Environment</p>

<p>Install Sqlite Utilities:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">install</span> <span class="nx">sqlite</span> <span class="nx">sqlite3</span> <span class="nx">libleveldb</span><span class="o">-</span><span class="nx">dev</span></code></pre></div>

<p>Install Node.js:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">remove</span> <span class="nx">nodejs</span> <span class="nx">npm</span> <span class="nx">gyp</span>
<span class="nx">sudo</span> <span class="nx">add</span><span class="o">-</span><span class="nx">apt</span><span class="o">-</span><span class="nx">repository</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">ppa</span><span class="o">:</span><span class="nx">chris</span><span class="o">-</span><span class="nx">lea</span><span class="o">/</span><span class="nx">node</span><span class="p">.</span><span class="nx">js</span>
<span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="nx">update</span>
<span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">install</span> <span class="nx">nodejs</span></code></pre></div>

<p>Install Paytokensd:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">cd</span> <span class="o">~</span><span class="err">/</span>
<span class="nx">git</span> <span class="nx">clone</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//github.com/paytokens/paytokensd.git</span>
<span class="nx">cd</span> <span class="nx">paytokensd</span>
<span class="nx">sudo</span> <span class="nx">pip3</span> <span class="nx">install</span> <span class="o">-</span><span class="nx">r</span> <span class="nx">pip</span><span class="o">-</span><span class="nx">requirements</span><span class="p">.</span><span class="nx">txt</span>
<span class="nx">mkdir</span> <span class="nx">data</span></code></pre></div>

<p>Create Paytokensd Settings in “~/paytokensd/settings.py”:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">[</span><span class="nx">Default</span><span class="p">]</span>
<span class="nx">data</span><span class="o">-</span><span class="nx">dir</span><span class="o">=</span><span class="nx">data</span>
<span class="nx">litecoind</span><span class="o">-</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">user</span><span class="o">=</span><span class="nx">litecoinrpc</span>
<span class="nx">litecoind</span><span class="o">-</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">password</span><span class="o">=</span><span class="nx">PASSWORD</span>
<span class="nx">litecoind</span><span class="o">-</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">connect</span><span class="o">=</span><span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span>
<span class="nx">litecoind</span><span class="o">-</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">port</span><span class="o">=</span><span class="mi">8816</span>
<span class="nx">rpc</span><span class="o">-</span><span class="nx">user</span><span class="o">=</span><span class="nx">paytokensrpc</span>
<span class="nx">rpc</span><span class="o">-</span><span class="nx">password</span><span class="o">=</span><span class="nx">PASSWORD</span>
<span class="nx">rpc</span><span class="o">-</span><span class="nx">host</span><span class="o">=</span><span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span>
<span class="nx">blockchain</span><span class="o">-</span><span class="nx">service</span><span class="o">-</span><span class="nx">name</span><span class="o">=</span><span class="nx">blockr</span>
<span class="nx">blockchain</span><span class="o">-</span><span class="nx">service</span><span class="o">-</span><span class="nx">connect</span><span class="o">=</span><span class="nx">https</span><span class="o">:</span><span class="c1">//ltc.blockr.io</span>
<span class="nx">log</span><span class="o">-</span><span class="nx">file</span><span class="o">=</span><span class="nx">data</span><span class="o">/</span><span class="nx">debug</span><span class="p">.</span><span class="nx">log</span></code></pre></div>

<p>Please match the Litecoin RPC Password to litecoind-rpc-password and Paytokens RPC Password to rpc-password.</p>

<p>Create a shell script to start Paytokens Server in “~/paytokens.sh”:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="err">#</span><span class="o">!</span><span class="err">/bin/sh</span>
<span class="nx">cd</span> <span class="nx">PATH</span><span class="o">/</span><span class="nx">paytokensd</span>
<span class="p">.</span><span class="o">/</span><span class="nx">paytokensd</span><span class="p">.</span><span class="nx">py</span> <span class="o">--</span><span class="nx">config</span><span class="o">-</span><span class="nx">file</span> <span class="p">.</span><span class="o">/</span><span class="nx">settings</span><span class="p">.</span><span class="nx">py</span> <span class="o">--</span><span class="nx">data</span><span class="o">-</span><span class="nx">dir</span> <span class="nx">data</span> <span class="o">--</span><span class="nx">blockchain</span><span class="o">-</span><span class="nx">service</span><span class="o">-</span><span class="nx">name</span> <span class="nx">blockr</span> <span class="o">--</span><span class="nx">blockchain</span><span class="o">-</span><span class="nx">service</span><span class="o">-</span><span class="nx">connect</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//ltc.blockr.io</span></code></pre></div>

<p>Remember to replace PATH with the correct full path to Paytokensd installation directory.  Make executable: “chmod 750 ~/paytokens.sh”</p>

<p>Install Payblockd:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">cd</span> <span class="o">~</span><span class="err">/</span>
<span class="nx">git</span> <span class="nx">clone</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//github.com/paytokens/payblockd.git</span>
<span class="nx">cd</span> <span class="nx">payblockd</span>
<span class="nx">sudo</span> <span class="nx">pip2</span><span class="p">.</span><span class="mi">7</span> <span class="nx">install</span> <span class="o">-</span><span class="nx">r</span> <span class="nx">pip</span><span class="o">-</span><span class="nx">requirements</span><span class="p">.</span><span class="nx">txt</span>
<span class="nx">mkdir</span> <span class="nx">data</span></code></pre></div>

<p>Configure Payblockd:
“~/payblockd/settings.py”:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">[</span><span class="nx">Default</span><span class="p">]</span>
<span class="nx">data</span><span class="o">-</span><span class="nx">dir</span><span class="o">=</span><span class="nx">data</span>
<span class="nx">paytokensd</span><span class="o">-</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">user</span><span class="o">=</span><span class="nx">paytokensrpc</span>
<span class="nx">paytokensd</span><span class="o">-</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">password</span><span class="o">=</span><span class="nx">PASSWORD</span>
<span class="nx">paytokensd</span><span class="o">-</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">port</span><span class="o">=</span><span class="mi">7730</span>
<span class="nx">blockchain</span><span class="o">-</span><span class="nx">service</span><span class="o">-</span><span class="nx">name</span><span class="o">=</span><span class="nx">blockr</span>
<span class="nx">blockchain</span><span class="o">-</span><span class="nx">service</span><span class="o">-</span><span class="nx">connect</span><span class="o">=</span><span class="nx">https</span><span class="o">:</span><span class="c1">//ltc.blockr.io</span>
<span class="nx">log</span><span class="o">-</span><span class="nx">file</span><span class="o">=</span><span class="nx">data</span><span class="o">/</span><span class="nx">debug</span><span class="p">.</span><span class="nx">log</span></code></pre></div>

<p>Create “payblock.sh”:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="err">#</span><span class="o">!</span><span class="err">/bin/sh</span>
<span class="nx">cd</span> <span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nx">ceo</span><span class="o">/</span><span class="nx">payblockd</span>
<span class="nx">python2</span><span class="p">.</span><span class="mi">7</span> <span class="nx">payblockd</span><span class="p">.</span><span class="nx">py</span> <span class="o">--</span><span class="nx">config</span><span class="o">-</span><span class="nx">file</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">py</span> <span class="o">--</span><span class="nx">data</span><span class="o">-</span><span class="nx">dir</span> <span class="nx">data</span> <span class="o">--</span><span class="nx">paytokensd</span><span class="o">-</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">user</span> <span class="nx">paytokensrpc</span> <span class="o">--</span><span class="nx">paytokensd</span><span class="o">-</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">password</span> <span class="nx">PASSWORD</span> <span class="o">--</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">host</span> <span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span> <span class="o">--</span><span class="nx">rpc</span><span class="o">-</span><span class="nx">port</span> <span class="mi">7800</span> <span class="o">--</span><span class="nx">blockchain</span><span class="o">-</span><span class="nx">service</span><span class="o">-</span><span class="nx">name</span> <span class="nx">blockr</span> <span class="o">--</span><span class="nx">blockchain</span><span class="o">-</span><span class="nx">service</span><span class="o">-</span><span class="nx">connect</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//ltc.blockr.io</span></code></pre></div>

<p>Install Paywallet:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">cd</span> <span class="o">~</span><span class="err">/</span>
<span class="nx">git</span> <span class="nx">clone</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//github.com/paytokens/paywallet.git</span>
<span class="nx">cd</span> <span class="nx">paywallet</span>
<span class="nx">git</span> <span class="nx">checkout</span> <span class="nx">evolve</span></code></pre></div>

<p>Note that the paywallet repository includes the correct release of livenet.  Do not use the generated build as it will not work.  Instead, use the included build directory ‘livenet’ for the prebuilt distribution.</p>

<p>Configure Paywallet:
Edit ~/paywallet/livenet/paywallet.conf.json and change api.paytokens.co to localhost or the desired host.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">{</span>
  <span class="s2">&quot;servers&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;https://localhost&quot;</span> <span class="p">],</span>
  <span class="s2">&quot;forceTestnet&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;googleAnalyticsUA&quot;</span><span class="o">:</span> <span class="s2">&quot;UA-21065583-20&quot;</span><span class="p">,</span>
  <span class="s2">&quot;googleAnalyticsUA-testnet&quot;</span><span class="o">:</span> <span class="s2">&quot;UA-21065583-20&quot;</span><span class="p">,</span>
  <span class="s2">&quot;rollbarAccessToken&quot;</span><span class="o">:</span> <span class="s2">&quot;39d23b5a512f4169c98fc922f0d1b121&quot;</span><span class="p">,</span>
  <span class="s2">&quot;disabledFeatures&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s2">&quot;restrictedAreas&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;pages/betting.html&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;US&quot;</span><span class="p">],</span>
    <span class="s2">&quot;pages/openbets.html&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;US&quot;</span><span class="p">],</span>
    <span class="s2">&quot;pages/matchedbets.html&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;US&quot;</span><span class="p">],</span>
    <span class="s2">&quot;pages/rps.html&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;US&quot;</span><span class="p">],</span>
    <span class="s2">&quot;dividend&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;US&quot;</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;autoBTCEscrowServer&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span>
<span class="p">}</span></code></pre></div>

<p>Install Nginx:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> ~/
sudo apt-get -y remove nginx-openresty
sudo apt-get -y remove nginx
sudo apt-get -y install make ruby1.9.1 ruby1.9.1-dev git-core libpcre3-dev libxslt1-dev libgd2-xpm-dev libgeoip-dev unzip zip build-essential libssl-dev
sudo gem install fpm
sudo rm -rf /tmp/openresty /tmp/ngx_openresty-* /tmp/nginx-openresty.tar.gz /tmp/nginx-openresty*.deb
wget -O /tmp/nginx-openresty.tar.gz http://openresty.org/download/ngx_openresty-1.7.2.1.tar.gz
sudo tar -C /tmp -zxvf /tmp/nginx-openresty.tar.gz
sudo <span class="nb">cd</span> /tmp/ngx_openresty-1.7.2.1
sudo ./configure --with-luajit --sbin-path<span class="o">=</span>/usr/sbin/nginx --conf-path<span class="o">=</span>/etc/nginx/nginx.conf --error-log-path<span class="o">=</span>/var/log/nginx/error.log --http-client-body-temp-path<span class="o">=</span>/var/lib/nginx/body --http-fastcgi-temp-path<span class="o">=</span>/var/lib/nginx/fastcgi --http-log-path<span class="o">=</span>/var/log/nginx/access.log --http-proxy-temp-path<span class="o">=</span>/var/lib/nginx/proxy --http-scgi-temp-path<span class="o">=</span>/var/lib/nginx/scgi --http-uwsgi-temp-path<span class="o">=</span>/var/lib/nginx/uwsgi --lock-path<span class="o">=</span>/var/lock/nginx.lock --pid-path<span class="o">=</span>/var/run/nginx.pid --with-http_geoip_module --with-http_gzip_static_module --with-http_realip_module --with-http_ssl_module --with-http_sub_module --with-http_xslt_module --with-ipv6 --with-sha1<span class="o">=</span>/usr/include/openssl --with-md5<span class="o">=</span>/usr/include/openssl --with-http_stub_status_module --with-http_secure_link_module --with-http_sub_module
sudo make
sudo <span class="nb">cd</span> /tmp/ngx_openresty-1.7.2.1
sudo make install <span class="nv">DESTDIR</span><span class="o">=</span>/tmp/openresty
sudo mkdir -p /tmp/openresty/var/lib/nginx
sudo cp -r ~/paytokensd_build/dist/linux /tmp
sudo install -m <span class="m">0755</span> -D /tmp/linux/runit/nginx/run /tmp/openresty/etc/sv/nginx/run
sudo install -m <span class="m">0755</span> -D /tmp/linux/nginx/nginx.conf /tmp/openresty/etc/nginx/nginx.conf
sudo install -m <span class="m">0755</span> -D /tmp/linux/nginx/counterblock.conf /tmp/openresty/etc/nginx/sites-enabled/counterblock.conf
sudo install -m <span class="m">0755</span> -D /tmp/linux/nginx/counterblock_api.inc /tmp/openresty/etc/nginx/sites-enabled/counterblock_api.inc
sudo install -m <span class="m">0755</span> -D /tmp/linux/nginx/counterblock_api_cache.inc /tmp/openresty/etc/nginx/sites-enabled/counterblock_api_cache.inc
sudo install -m <span class="m">0755</span> -D /tmp/linux/nginx/counterblock_socketio.inc /tmp/openresty/etc/nginx/sites-enabled/counterblock_socketio.inc
sudo install -m <span class="m">0755</span> -D /tmp/linux/logrotate/nginx /tmp/openresty/etc/logrotate.d/nginx
sudo <span class="nb">cd</span> /tmp
sudo fpm -s dir -t deb -n nginx-openresty -v 1.7.2.1 --iteration <span class="m">1</span> -C /tmp/openresty --description <span class="s2">&quot;openresty 1.7.2.1&quot;</span> --conflicts nginx --conflicts nginx-common -d libxslt1.1 -d libgeoip1 -d geoip-database -d libpcre3 --config-files /etc/nginx/nginx.conf --config-files /etc/nginx/sites-enabled/counterblock.conf --config-files /etc/nginx/fastcgi.conf.default --config-files /etc/nginx/win-utf --config-files /etc/nginx/fastcgi_params --config-files /etc/nginx/nginx.conf --config-files /etc/nginx/koi-win --config-files /etc/nginx/nginx.conf.default --config-files /etc/nginx/mime.types.default --config-files /etc/nginx/koi-utf --config-files /etc/nginx/uwsgi_params --config-files /etc/nginx/uwsgi_params.default --config-files /etc/nginx/fastcgi_params.default --config-files /etc/nginx/mime.types --config-files /etc/nginx/scgi_params.default --config-files /etc/nginx/scgi_params --config-files /etc/nginx/fastcgi.conf etc usr var
sudo apt-get -y install libxslt1.1 libgeoip1 geoip-database libpcre3
sudo dpkg -i /tmp/nginx-openresty_1.7.2.1-1_amd64.deb
sudo rm -f /etc/nginx/sites-enabled/*.dpkg-old /etc/nginx/sites-enabled/*.dpkg-dist
sudo ln -sf /etc/sv/nginx /etc/service/</code></pre></div>

<p>Configure Nginx:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">sudo</span> <span class="nx">nano</span> <span class="o">/</span><span class="nx">etc</span><span class="o">/</span><span class="nx">nginx</span><span class="o">/</span><span class="nx">sites</span><span class="o">*</span><span class="err">/*</span></code></pre></div>

<p>This will bring up an editor to modify Nginx Site Configuration.  Please adjust settings in these files to match desired output.  In particular comment out ‘etc var usr’.</p>

<p>You may now start Paytokensd and payblockd then open a browser and begin utilizing the local instance of Paytokens.</p>


  </section>
  
</article>

<!-- Disqus -->

    </div>

    
<footer class="site-footer">
	<p class="text">© <a href="https://treefunder.co">Treefunder Incorporated</a>
</p>
</footer>

  </body>
  
</html>
